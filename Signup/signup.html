<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Signup Page</title>
    <link rel="stylesheet" href="signup.css" />
  </head>

  <body>
    <div class="container">
      <form class="signup-form" id="signupForm">
        <h2>Signup</h2>
        <div class="form-row">
          <input type="text" placeholder="Name" required id="name" />
          <div id="nameError" class="error-message"></div>
          <input type="text" placeholder="Username" required id="username" />
          <div id="usernameError" class="error-message"></div>
        </div>
        <input
          type="email"
          placeholder="Email"
          required
          id="signupEmail"
          class="full-width"
        />
        <div id="emailError" class="error-message"></div>
        <label for="role">Select Role:</label>
        <select
          id="role"
          required
          onchange="toggleTeacherOptions()"
          class="full-width"
        >
          <option value="admin">Admin</option>
          <option value="student">Student</option>
          <option value="teacher">Teacher</option>
        </select>
        <div id="teacherOptions" style="display: none">
          <input type="file" accept="image/*" id="teacherPicture" />
          <input type="text" placeholder="Degree" id="teacherDegree" />
          <input type="text" placeholder="Experience" id="teacherExperience" />
          <div id="subjectFields">
            <div class="subjectInputWrapper">
              <input type="text" placeholder="Subject 1" class="subjectInput" />
              <input
                type="text"
                placeholder="Description"
                class="descriptionInput"
              />
            </div>
          </div>
          <button type="button" class="add-subject" onclick="addSubjectInput()">
            +
          </button>
        </div>
        <div class="form-row">
          <input
            type="password"
            placeholder="Password"
            required
            id="signupPassword"
          />
          <input
            type="password"
            placeholder="Confirm Password"
            required
            id="confirmPass"
          />
        </div>
        <button type="submit" id="signup">Signup</button>
      </form>
      <a href="../Login/login.html">Already a member? Login Now!</a>
    </div>
    <script src="../Signup/signup.js" type="module"></script>
    <script>
      function toggleTeacherOptions() {
        const roleSelect = document.getElementById("role");
        const teacherOptions = document.getElementById("teacherOptions");

        if (roleSelect.value === "teacher") {
          teacherOptions.style.display = "block";
        } else {
          teacherOptions.style.display = "none";
        }
      }

      let subjectCount = 1;

      function addSubjectInput() {
        subjectCount++;
        const subjectFields = document.getElementById("subjectFields");
        const inputWrapper = document.createElement("div");
        inputWrapper.classList.add("subjectInputWrapper");
        inputWrapper.innerHTML = `
          <input type="text" placeholder="Subject ${subjectCount}" class="subjectInput" />
          <input type="text" placeholder="Description" class="descriptionInput" />
        `;
        subjectFields.appendChild(inputWrapper);
      }
    </script>
  </body>
</html>
